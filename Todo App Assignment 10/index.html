<html>
  <head>
    <title>Todo App</title>
    <!-- <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'> -->
    <link rel="stylesheet" href="style.css" type="text/css" media="screen" charset="utf-8">    
  </head>
  <body>
    <div class="container">
      <p>
        <label for="new-task">Add Item</label>
        <input id="new-task" type="text"><button onclick="createTodo(this)">Add TODO</button>
      </p>
      
      <h3>Todos</h3>
      <ul id="Todoincomplete">
        <li><input type="checkbox" onclick="TodoIncomplete(this)">
            <label>Pay Bills</label>
            <input type="text"><button id="edit" onchange="editTodo(this)">Edit</button><button class="delete" onclick="deleteTodo(this)">Delete</button></li>
        
        
      </ul>
      
      <h3>Completed</h3>
      <ul id="Todocompleted">
        <li><input type="checkbox" checked onchange="TodoCompleted(this)"><label>See the Doctor</label><input type="text"><button class="edit">Edit</button><button class="delete">Delete</button></li>
      </ul>
    </div>

    <script>
        var incompleteTodos=document.getElementById("Todoincomplete");
        var completedTodos=document.getElementById("Todocompleted");
        function createTodo(data){
            var todotext=data.previousSibling.value;

var listItem=document.createElement("li");

//input (checkbox)
var checkBox=document.createElement("input");//checkbx
//label
var label=document.createElement("label");//label
//input (text)

var editInput=document.createElement("input");//text

label.innerText=todotext;
//Each elements, needs appending
checkBox.type="checkbox";
editInput.type="text";




//and appending.
listItem.appendChild(checkBox);
listItem.appendChild(label);
listItem.appendChild(editInput);
listItem.innerHTML+='<button id="edit" onclick="editTodo(this)">Edit</button><button class="delete" onclick="deleteTodo(this)">Delete</button>';

incompleteTodos.appendChild(listItem);
todotext.value="";
}

function editTodo(data){
    var listItem=data.parentNode;

var editInput=listItem.children[2];
var label=listItem.children[1];
var containsClass=listItem.classList.contains("editMode");
		//If class of the parent is .editmode
		if(containsClass){
            data.innerText='Edit';
			label.innerText=editInput.value;
		}else{
            data.innerText='Save';
			editInput.value=label.innerText;
		}
		listItem.classList.toggle("editMode");
}


function deleteTodo(data){
        var listItem=data.parentNode;
		var ul=listItem.parentNode;
		//Remove the parent list item from the ul.
		ul.removeChild(listItem);
}

function TodoCompleted(data){
	
	//Append the task list item to the #completed-tasks
	var listItem=data.parentNode;
    completedTodos.appendChild(listItem);
    incompleteTodos.removeChild(listItem);
    }
    
function TodoIncomplete(data){
	
	//Append the task list item to the #completed-tasks
	var listItem=data.parentNode;
	incompleteTodos.appendChild(listItem);}
    </script>

  </body>
</html>